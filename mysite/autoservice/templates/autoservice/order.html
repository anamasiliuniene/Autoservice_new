{% extends "autoservice/base.html" %}

{% block heading %} "{{ order.id }} {% endblock heading %}

{% block content %}
<h1><b> Order info: </b></h1>
<hr>
<p> Car: {{ order.car.make }} {{ order.car.model }} </p>
<p> License plate: {{ order.car.license_plate }} </p>
<p> Date: {{order.date}} </p>
<p> Status: {{ order.get_status_display }} </p>


<div class="container mt-3">

    <table class="table table-hover">
        <thead>
        <tr>
            <th>Service</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Sum</th>
        </tr>
        </thead>
        <tbody>
        {% for line in order.lines.all %}
        <tr>
            <td>{{ line.service.name }}</td>
            <td>{{ line.service.unit_price}}</td>
            <td>{{ line.quantity }}</td>
            <td>{{ line.line_sum }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">No services added to this order.</td>
        </tr>
        {% endfor %}
        <tr>
            <th colspan="3">Total</th>
            <th>{{ order.total|floatformat:2 }}</th>
        </tr>
        </tbody>
    </table>
</div>

{% endblock %}